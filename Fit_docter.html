<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FitDoctor — Virtual Try-On</title>

  <!-- Inter font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #fbfdfe;
      --card: #ffffff;
      --muted: #667085;
      --text: #0f1724;
      --accent: #00bfa6;
      --shadow: rgba(15,23,36,0.06);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.5;
      font-size:16px;
    }

    .container{
      width:90%;
      max-width:1180px;
      margin:0 auto;
    }

    /* ---------- Header ---------- */
    header{
      background: rgba(255,255,255,0.85);
      backdrop-filter: blur(6px);
      border-bottom:1px solid #eef2f6;
      position:sticky;
      top:0;
      z-index:40;
    }
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:1rem;
      padding:14px 0;
    }
    .logo{
      font-weight:700;
      font-size:1.15rem;
      color:var(--text);
      text-decoration:none;
    }
    nav ul{
      display:flex;
      gap:18px;
      align-items:center;
      margin:0;
      padding:0;
      list-style:none;
    }
    nav a{
      color:var(--text);
      text-decoration:none;
      font-weight:600;
      font-size:0.95rem;
      opacity:0.9;
    }
    nav a:hover{color:var(--accent)}

    /* ---------- Hero ---------- */
    .hero{
      margin-top:8px;
      padding:48px 0;
      background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.6));
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:320px;
    }
    .hero-inner{
      text-align:center;
      padding:18px;
    }
    .hero h1{
      font-size:2.25rem;
      margin:0 0 8px;
      font-weight:700;
    }
    .hero p{color:var(--muted); margin:0 0 18px}
    .cta{
      display:inline-block;
      background:var(--accent);
      color:white;
      padding:10px 18px;
      border-radius:999px;
      border:0;
      font-weight:600;
      cursor:pointer;
      box-shadow:0 6px 18px rgba(0,0,0,0.08);
      transition:transform .18s ease, box-shadow .18s ease;
    }
    .cta:hover{ transform:translateY(-3px); box-shadow:0 10px 28px rgba(0,0,0,0.12); }

    /* ---------- Try-on area (grid) ---------- */
    .try-on-section{
      padding:36px 0;
      background: linear-gradient(180deg,#fbfdfe,#ffffff);
      border-top:1px solid #f0f4f7;
    }

    /* grid: left intro / center uploads / right result */
    .tryon-grid{
      display:grid;
      grid-template-columns: 220px 1fr 360px;
      gap:24px;
      align-items:start;
    }

    /* left intro */
    .tryintro{
      padding-top:8px;
    }
    .tryintro h2{
      font-size:1.05rem;
      margin:0 0 8px;
      font-weight:700;
    }
    .tryintro p{
      color:var(--muted);
      font-size:0.95rem;
      margin:0;
    }
    .tryintro .note{
      margin-top:18px;
      font-size:0.875rem;
      color:var(--muted);
      border-left:3px solid var(--accent);
      padding-left:10px;
    }

    /* center: uploads */
    .upload-column{
      display:flex;
      flex-direction:column;
      gap:16px;
    }

    .upload-card{
      background:var(--card);
      border-radius:12px;
      padding:16px;
      box-shadow: 0 8px 24px var(--shadow);
      border:1px solid #eef3f7;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .upload-card h3{ margin:0; font-size:0.98rem; font-weight:700 }
    .image-preview{
      height:160px;
      border-radius:8px;
      background:#fbfdff;
      border:1px dashed #e0e6ea;
      display:flex;
      align-items:center;
      justify-content:center;
      color:var(--muted);
      overflow:hidden;
    }
    .image-preview img{ max-width:100%; max-height:100%; display:block; object-fit:cover }

    .file-input{ display:none }
    .upload-button{
      display:inline-block;
      background:#0b6b58;
      color:white;
      padding:8px 12px;
      border-radius:8px;
      cursor:pointer;
      font-weight:600;
      border:none;
      transition:transform .12s ease;
      width:max-content;
    }
    .upload-button:hover{ transform:translateY(-2px) }

    .upload-tip{ color:var(--muted); font-size:0.88rem }

    /* controls under uploads */
    .controls{
      display:flex;
      gap:12px;
      align-items:center;
      margin-top:6px;
    }
    .process-button{
      background:var(--accent);
      color:white;
      padding:10px 14px;
      border-radius:10px;
      border:0;
      font-weight:600;
      cursor:pointer;
      box-shadow:0 6px 18px rgba(0,0,0,0.06);
      transition:transform .12s ease,opacity .12s ease;
    }
    .process-button[disabled]{ opacity:0.55; cursor:not-allowed; transform:none; box-shadow:none }

    .status { color:var(--muted); font-size:0.93rem; margin-left:auto }

    /* right: result card */
    .result-column h3{ margin:0 0 10px; font-weight:700; font-size:1rem }
    .result-card{
      background:var(--card);
      padding:14px;
      border-radius:12px;
      box-shadow:0 8px 24px var(--shadow);
      border:1px solid #eef3f7;
      min-height:240px;
      display:flex;
      flex-direction:column;
      gap:12px;
      align-items:center;
      justify-content:center;
    }
    .result-card .placeholder{
      color:var(--muted);
      font-size:0.95rem;
      text-align:center;
    }
    .result-card img{
      max-width:100%;
      max-height:340px;
      border-radius:8px;
      display:block;
    }

    .download-button{
      margin-top:6px;
      padding:8px 14px;
      background:#222;
      color:#fff;
      border-radius:8px;
      border:0;
      font-weight:600;
      cursor:pointer;
    }
    .download-button[disabled]{ opacity:0.6; cursor:not-allowed }

    /* features / steps area */
    .steps{
      margin:34px auto 6px;
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
      gap:16px;
      max-width:920px;
    }
    .step{
      background:var(--card);
      padding:18px;
      border-radius:12px;
      text-align:center;
      box-shadow:0 8px 22px var(--shadow);
    }
    .step .num{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:36px;height:36px;border-radius:999px;background:var(--accent);color:white;font-weight:700;margin-bottom:12px;
    }
    .step h4{ margin:0 0 8px;font-size:1rem }
    .step p{ margin:0;color:var(--muted); font-size:0.92rem }

    /* footer */
    footer{
      margin-top:44px;
      padding:26px 0;
      text-align:center;
      color:var(--muted);
      font-size:0.92rem;
    }

    /* small states / spinner */
    .spinner{
      width:18px;height:18px;border-radius:50%;
      border:3px solid rgba(0,0,0,0.08);
      border-top-color:var(--accent);
      animation:spin .9s linear infinite;
      display:inline-block;
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    /* animations: fade-in (used earlier) */
    .fade-in{opacity:0;transform:translateY(14px);transition:opacity .8s ease,transform .8s ease}
    .fade-in.visible{opacity:1;transform:none}

    /* responsive */
    @media (max-width: 1050px){
      .tryon-grid{ grid-template-columns: 1fr 560px; }
      .tryintro{ order: -1 } /* keep intro above uploads on mid sizes */
      .try-on-section{ padding:28px 0;}
    }

    @media (max-width: 820px){
      .tryon-grid{ grid-template-columns:1fr; }
      .tryintro{ order: 0; margin-bottom:8px }
      .upload-column{ order:1 }
      .result-column{ order:2 }
      .hero h1{font-size:1.6rem}
    }
  </style>
</head>
<body>
  <header>
    <div class="container topbar">
      <a class="logo" href="#">FitDoctor</a>
      <nav>
        <ul>
          <li><a href="#how-it-works">How It Works</a></li>
          <li><a href="#features">Features</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <!-- hero -->
    <section class="hero fade-in">
      <div class="container hero-inner">
        <h1>Experience Virtual Try-On Like Never Before</h1>
        <p>Upload your photo and a clothing image — see how it looks instantly.</p>
        <button class="cta" onclick="document.getElementById('tryon').scrollIntoView({behavior:'smooth'});">Try It Now</button>
      </div>
    </section>

    <!-- try-on section -->
    <section id="tryon" class="try-on-section fade-in">
      <div class="container tryon-grid">
        <!-- left intro -->
        <div class="tryintro">
          <h2>Your Virtual Fitting Room</h2>
          <p>Upload two images below to see the magic happen.</p>
          <div class="note">Tip: for best results use a full-body photo with good lighting and a clothing image on a plain background.</div>
        </div>

        <!-- center: uploads -->
        <div class="upload-column">
          <!-- person -->
          <div class="upload-card" id="person-card">
            <h3>1. Your Photo</h3>
            <div class="image-preview" id="person-image-preview"><span>No image selected</span></div>
            <input class="file-input" id="person-image-upload" accept="image/*" type="file">
            <label class="upload-button" for="person-image-upload">Upload Your Photo</label>
            <div class="upload-tip">Ensure good lighting — full body visible for best results.</div>
          </div>

          <!-- clothing -->
          <div class="upload-card" id="clothing-card">
            <h3>2. Clothing Photo</h3>
            <div class="image-preview" id="clothing-image-preview"><span>No image selected</span></div>
            <input class="file-input" id="clothing-image-upload" accept="image/*" type="file">
            <label class="upload-button" for="clothing-image-upload">Upload Clothing Photo</label>
            <div class="upload-tip">Clothing should be clear — plain background preferred.</div>
          </div>

          <!-- controls -->
          <div style="display:flex; align-items:center; gap:12px;">
            <button id="process-button" class="process-button" disabled>Generate Try-On</button>
            <div class="status" id="processing-status" aria-live="polite"></div>
          </div>
        </div>

        <!-- right: result -->
        <div class="result-column">
          <h3>Your Virtual Try-On Result</h3>
          <div class="result-card" id="result-card">
            <div id="result-placeholder" class="placeholder">
              Your generated image will appear here.
            </div>
            <img id="result-image" alt="Virtual try-on result" style="display:none">
            <button id="download-button" class="download-button" disabled>Download Result</button>
          </div>
        </div>
      </div>

      <!-- steps below -->
      <div class="container" style="margin-top:28px">
        <div class="steps">
          <div class="step">
            <div class="num">1</div>
            <h4>Upload Images</h4>
            <p>Provide a clear photo of yourself and the clothing item you want to try.</p>
          </div>
          <div class="step">
            <div class="num">2</div>
            <h4>AI Processes</h4>
            <p>Our AI analyzes both images and blends the clothing onto your photo.</p>
          </div>
          <div class="step">
            <div class="num">3</div>
            <h4>View & Download</h4>
            <p>See the result — then save or share your look.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- features -->
    <section id="features" class="fade-in" style="padding:30px 0 48px;">
      <div class="container">
        <h2 style="text-align:center; margin-bottom:12px;">Why Choose FitDoctor?</h2>
        <p style="text-align:center; color:var(--muted); max-width:860px; margin:0 auto 18px">
          Realistic virtual try-ons with a privacy-first approach. Fast, lightweight, and built for confident shopping.
        </p>
      </div>
    </section>

    <!-- contact -->
    <section id="contact" class="fade-in" style="padding:28px 0 60px;">
      <div class="container">
        <h2 style="text-align:center; margin-bottom:12px;">Get in Touch</h2>
        <p style="text-align:center; color:var(--muted); margin:0 0 12px;">Questions or feedback? Send us a message.</p>
        <form class="contact-form" onsubmit="event.preventDefault(); alert('Thanks — message sent (demo).');">
          <input type="text" placeholder="Your name" required style="padding:10px;border-radius:8px;border:1px solid #e6eef2">
          <input type="email" placeholder="Your email" required style="padding:10px;border-radius:8px;border:1px solid #e6eef2">
          <textarea placeholder="Your message" rows="4" style="padding:10px;border-radius:8px;border:1px solid #e6eef2"></textarea>
          <button class="cta" type="submit" style="align-self:flex-start">Send Message</button>
        </form>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div style="max-width:880px;margin:0 auto;color:var(--muted);font-size:0.92rem">
        &copy; <span id="year"></span> FitDoctor — privacy-first virtual try-ons.
      </div>
    </div>
  </footer>

  <script>
    // set footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Fade-in on scroll + hero immediate
    document.addEventListener('DOMContentLoaded', () => {
      const faders = document.querySelectorAll('.fade-in');
      const obs = new IntersectionObserver((entries, o) => {
        entries.forEach(e => {
          if (e.isIntersecting){ e.target.classList.add('visible'); o.unobserve(e.target); }
        });
      }, {threshold:0.15});
      faders.forEach(f => obs.observe(f));

      // ensure hero visible quickly
      const hero = document.querySelector('.hero');
      if (hero) hero.classList.add('visible');
    });

    // Upload previews + enable processing
    const personInput = document.getElementById('person-image-upload');
    const clothingInput = document.getElementById('clothing-image-upload');
    const personPreview = document.getElementById('person-image-preview');
    const clothingPreview = document.getElementById('clothing-image-preview');
    const processBtn = document.getElementById('process-button');
    const status = document.getElementById('processing-status');
    const resultImage = document.getElementById('result-image');
    const resultPlaceholder = document.getElementById('result-placeholder');
    const downloadBtn = document.getElementById('download-button');

    let personDataURL = null;
    let clothingDataURL = null;

    function showPreview(file, previewEl, saveCallback){
      if (!file) {
        previewEl.innerHTML = '<span>No image selected</span>';
        saveCallback && saveCallback(null);
        return;
      }
      const reader = new FileReader();
      reader.onload = function(e){
        const img = document.createElement('img');
        img.src = e.target.result;
        previewEl.innerHTML = '';
        previewEl.appendChild(img);
        saveCallback && saveCallback(e.target.result);
      };
      reader.readAsDataURL(file);
    }

    function checkEnable(){
      processBtn.disabled = !(personDataURL && clothingDataURL);
    }

    personInput.addEventListener('change', (ev)=>{
      const file = ev.target.files && ev.target.files[0];
      showPreview(file, personPreview, (data)=>{
        personDataURL = data; checkEnable();
      });
    });
    clothingInput.addEventListener('change', (ev)=>{
      const file = ev.target.files && ev.target.files[0];
      showPreview(file, clothingPreview, (data)=>{
        clothingDataURL = data; checkEnable();
      });
    });

    // Simulated processing — for now we show the clothing image as "result"
    processBtn.addEventListener('click', async ()=>{
      status.innerHTML = '<span class="spinner" aria-hidden="true"></span> Processing...';
      processBtn.disabled = true;
      downloadBtn.disabled = true;

      // fake processing delay
      await new Promise(r => setTimeout(r, 1100));

      // If you had an AI endpoint you'd send personDataURL and clothingDataURL here and get back a result image.
      // For demo / layout purposes we'll just show a composite-like result:
      if (clothingDataURL){
        // show clothing image in result for now
        resultImage.src = clothingDataURL;
        resultImage.style.display = 'block';
        resultPlaceholder.style.display = 'none';
        status.textContent = 'Result ready';
        downloadBtn.disabled = false;
      } else if (personDataURL){
        resultImage.src = personDataURL;
        resultImage.style.display = 'block';
        resultPlaceholder.style.display = 'none';
        status.textContent = 'Result ready';
        downloadBtn.disabled = false;
      } else {
        status.textContent = 'No images to process';
      }
      processBtn.disabled = false;
    });

    // Download result (works when result.src is data: URL)
    downloadBtn.addEventListener('click', ()=>{
      const src = resultImage.src;
      if (!src) return;
      // If image is a data URL we can download directly. Otherwise open in new tab (best-effort).
      if (src.startsWith('data:')){
        const a = document.createElement('a');
        a.href = src;
        a.download = 'fitdoctor-result.png';
        document.body.appendChild(a);
        a.click();
        a.remove();
      } else {
        // try to fetch and convert to blob then download (may fail cross-origin)
        fetch(src, {mode:'cors'}).then(r=>r.blob()).then(blob=>{
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = 'fitdoctor-result.png';
          document.body.appendChild(a);
          a.click();
          a.remove();
          URL.revokeObjectURL(url);
        }).catch(()=>{
          // fallback: open image in new tab
          window.open(src, '_blank');
        });
      }
    });
  </script>
</body>
</html>
